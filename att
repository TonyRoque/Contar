üìù Patch Notes: Evolu√ß√£o do Sistema Contar
v0.1.0 ‚Äì Legacy Base (O In√≠cio)

    Status: Script monol√≠tico com imports fixos.

    Problemas resolvidos: Identifica√ß√£o b√°sica de depend√™ncias ausentes (dotenv).

    Limita√ß√£o: Caminhos de arquivos "hardcoded" (travados no c√≥digo) e falta de modularidade.

v0.5.0 ‚Äì Modulariza√ß√£o e Ambiente

    Refatora√ß√£o Estrutural: Divis√£o do c√≥digo em pastas (app/core, app/utils, app/models).

    Corre√ß√£o de Pathing: Implementa√ß√£o de arquivos __init__.py para reconhecimento de pacotes Python.

    Seguran√ßa: Implementa√ß√£o do ConfigLoader para separar credenciais sens√≠veis em arquivos .env.

    Logs S√™nior: Introdu√ß√£o do RotatingFileHandler para evitar que arquivos de log cres√ßam infinitamente.

v0.8.4 ‚Äì Interatividade e UX

    Sele√ß√£o Din√¢mica: Substitui√ß√£o do arquivo fixo por uma interface de terminal que lista arquivos .json na pasta /data/.

    Valida√ß√£o de Input: Prote√ß√£o contra erros de digita√ß√£o do usu√°rio (letras onde deveriam ser n√∫meros).

    Tratamento de IP: Normaliza√ß√£o de strings para aceitar formatos como [IP]:Porta ou IP:Porta, extraindo apenas o endere√ßo v√°lido para a biblioteca de conex√£o.

v0.8.5 ‚Äì (Arquitetura Flex√≠vel)

    Mergulho Recursivo (Recursion Logic): Implementa√ß√£o de um motor que varre o JSON em qualquer profundidade. O script deixou de depender de uma estrutura fixa (ex: DADOS > TORRE) e passou a buscar o conte√∫do (IPs) onde quer que estejam.

    Heran√ßa de Contexto: O nome da chave superior no JSON (ex: nome da torre) agora √© automaticamente herdado pelo r√°dio, simplificando o preenchimento do Excel.

    Motor de Processamento (Engine): Otimiza√ß√£o do ThreadPoolExecutor para lidar com m√∫ltiplas conex√µes simult√¢neas (at√© 25 r√°dios ao mesmo tempo).

    Relat√≥rio Est√°vel: Garantia de que, independentemente da estrutura do JSON de entrada, o Excel de sa√≠da mant√©m sempre as mesmas colunas e ordem, permitindo auditorias constantes.
    
    
**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------**********---------------------------

    
    **17/01/2026** -- Sistema Contar - v0.9
    
1. Vis√£o Geral da Vers√£o

A v0.9 representa a transi√ß√£o definitiva de um script t√©cnico de automa√ß√£o para um Software Desktop Profissional. Focamos em modularidade, experi√™ncia do usu√°rio (UX) e resili√™ncia de dados.
2. Implementa√ß√µes T√©cnicas (Back-end)

    Arquitetura Modular: Separamos a l√≥gica em camadas (core, ui, utils, models), permitindo manuten√ß√£o independente de cada parte.

    Motor de Descoberta Recursivo: Implementamos um algoritmo que varre o JSON em profundidade infinita. O sistema agora encontra r√°dios e nomes de torres independentemente de qu√£o aninhado o arquivo esteja.

    Centraliza√ß√£o de Intelig√™ncia (helpers.py): Criamos um n√∫cleo de fun√ß√µes compartilhadas para valida√ß√£o de IP e extra√ß√£o de dados, garantindo que a CLI e a GUI funcionem de forma id√™ntica.

    Robustez no ConfigLoader: Melhoramos a detec√ß√£o do arquivo .env para suportar diferentes diret√≥rios de execu√ß√£o e garantimos que credenciais regionais tenham prioridade sobre as globais.

3. Interface Gr√°fica (Front-end)

    UI Moderna (CustomTkinter): Implementa√ß√£o de uma janela com suporte a Dark Mode e componentes visuais arredondados.

    Console de Log Integrado: Criamos um "Handler" de log personalizado que desvia as mensagens do terminal diretamente para uma caixa de texto na janela do app.

    Gerenciamento de Threads: O processamento SSH foi isolado em uma thread de segundo plano, impedindo que a interface trave ou fique "branca" durante a varredura da rede.

    Feedback Visual: Adi√ß√£o de barra de progresso din√¢mica e janelas de di√°logo (pop-ups) para alertas de erro e confirma√ß√£o de sucesso.

4. Prepara√ß√£o para o Ambiente Real

    Normaliza√ß√£o de IPs: O sistema agora limpa automaticamente colchetes, espa√ßos e portas residuais dos endere√ßos IP antes de tentar a conex√£o.

    Gest√£o de VPN: Mapeamos os protocolos necess√°rios para o acesso remoto via Linux (L2TP/IPsec), garantindo o t√∫nel de dados necess√°rio para o funcionamento do software.

üìå Pend√™ncias para a Pr√≥xima Semana (Rumo √† v1.0)

    [ ] Teste de Conectividade: Validar a resposta dos r√°dios M5 e AC via VPN.

    [ ] Ajuste de Comandos SSH: Confirmar se o comando de contagem de clientes precisa de varia√ß√µes dependendo da vers√£o do firmware encontrada.

    [ ] Gera√ß√£o de Execut√°vel: Empacotar o projeto usando PyInstaller para distribui√ß√£o simplificada.

    [ ] Tratamento de Exce√ß√µes de Rede: Refinar os timeouts de conex√£o para redes de alta lat√™ncia.
